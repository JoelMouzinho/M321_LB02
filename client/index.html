<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NightTalk</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/script.js"></script>
</head>

<body id="body" class="bg-gray-900 text-gray-200 flex items-center justify-center h-screen">
    <div id="chatWindow"
        class="w-full max-w-2xl bg-gray-800 rounded-3xl shadow-2xl p-8 transition-transform transform hover:scale-105 relative">

        <!-- Header with User Icon & Logout -->
        <div class="flex justify-between items-center mb-6">
            <!-- User Icon -->
            <div class="flex items-center space-x-3">
                <img class="w-10 h-10 rounded-full border-2 border-purple-500">
                <span id="showuser" class="text-lg font-semibold"></span>
            </div>

            <!-- Logout Icon -->
            <button id="btnLogout" class="text-gray-300 hover:text-red-500 transition duration-300">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                    stroke="currentColor" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-9a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 004.5 21h9a2.25 2.25 0 002.25-2.25V15M16.5 12h6m0 0l-3-3m3 3l-3 3" />
                </svg>
            </button>
        </div>

        <h2 class="text-3xl font-bold text-center text-purple-400 mb-6">NightTalk</h2>

        <!-- Chat Messages -->
        <div class="h-96 overflow-y-auto bg-gray-700 p-6 rounded-lg shadow-inner mt-6 space-y-4 border-2 border-gray-600"
            id="messages">
            <!-- Nachrichten werden hier angezeigt -->
        </div>

        <!-- Nachricht senden -->
        <div class="mt-6 flex space-x-2">
            <input id="send" type="text" placeholder="Type a message..."
                class="w-full p-4 rounded-l-lg bg-gray-600 text-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-md focus:shadow-lg transition-shadow duration-300">
            <button id="btnSendHello"
                class="bg-purple-500 hover:bg-purple-600 text-white px-6 py-4 rounded-r-lg transition-colors duration-300">
                Send
            </button>
        </div>
    </div>

    <div class="absolute right-0 top-0 h-full bg-gray-800 shadow-lg p-4 w-64 transform translate-x-full transition-transform duration-300"
        id="onlineUsersSidebar">
        <h3 class="text-xl font-semibold text-white mb-4">Online Users</h3>
        <ul id="onlineUsersList" class="space-y-2">
            <!-- Online Users werden hier dynamisch hinzugefÃ¼gt -->
        </ul>
    </div>

    <button id="toggleUsers"
        class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-purple-500 hover:bg-purple-600 text-white px-3 py-2 rounded-l-lg transition duration-300">
        &#9776;
    </button>

    <!-- Mode Toggle Button -->
    <button id="modeToggle" class="absolute top-4 right-4 p-3 bg-purple-500 text-white rounded-full transition duration-300 hover:bg-purple-600">
        ðŸŒ™
    </button>

    <div id="editMessageModal" class="hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
        <div class="bg-gray-800 p-4 rounded-lg shadow-lg w-80">
            <h2 class="text-white text-lg font-bold mb-2">Nachricht bearbeiten</h2>
            <input id="editMessageInput" type="text" class="w-full p-2 rounded text-black bg-gray-300" />
            <div class="flex justify-end mt-2">
                <button id="cancelEditMessage" class="bg-gray-500 text-white px-3 py-1 rounded mr-2">Abbrechen</button>
                <button id="saveEditMessage" class="bg-purple-500 text-white px-3 py-1 rounded">Speichern</button>
            </div>
        </div>
    </div>

    <!-- MODAL: Nachricht lÃ¶schen -->
    <div id="deleteMessageModal" class="hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
        <div class="bg-gray-800 p-4 rounded-lg shadow-lg w-80">
            <h2 class="text-white text-lg font-bold mb-2">Nachricht lÃ¶schen</h2>
            <p class="text-gray-300 mb-4">MÃ¶chtest du diese Nachricht wirklich lÃ¶schen?</p>
            <div class="flex justify-end">
                <button id="cancelDeleteMessage"
                    class="bg-gray-500 text-white px-3 py-1 rounded mr-2">Abbrechen</button>
                <button id="confirmDeleteMessage" class="bg-red-500 text-white px-3 py-1 rounded">LÃ¶schen</button>
            </div>
        </div>
    </div>

    <!-- Modal zum Bearbeiten des Benutzernamens -->
    <div id="editUsernameModal" class="hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
        <div class="bg-gray-800 p-4 rounded-lg shadow-lg w-80">
            <h2 class="text-white text-lg font-bold mb-2">Benutzernamen bearbeiten</h2>
            <input id="editUsernameInput" type="text" class="w-full p-2 rounded text-black bg-gray-300" />
            <div class="flex justify-end mt-2">
                <button id="cancelEditUsername" class="bg-gray-500 text-white px-3 py-1 rounded mr-2">Abbrechen</button>
                <button id="saveEditUsername" class="bg-purple-500 text-white px-3 py-1 rounded">Speichern</button>
            </div>
        </div>
    </div>

</body>

</html>